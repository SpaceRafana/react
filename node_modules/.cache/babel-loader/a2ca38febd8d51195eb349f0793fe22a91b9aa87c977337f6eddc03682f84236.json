{"ast":null,"code":"import { Vector3 } from 'three';\nvar temp = /* @__PURE__ */new Vector3();\nvar temp1 = /* @__PURE__ */new Vector3();\nexport function closestPointToPoint(bvh, point) {\n  var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var minThreshold = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n  var maxThreshold = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : Infinity;\n  // early out if under minThreshold\n  // skip checking if over maxThreshold\n  // set minThreshold = maxThreshold to quickly check if a point is within a threshold\n  // returns Infinity if no value found\n  var minThresholdSq = minThreshold * minThreshold;\n  var maxThresholdSq = maxThreshold * maxThreshold;\n  var closestDistanceSq = Infinity;\n  var closestDistanceTriIndex = null;\n  bvh.shapecast({\n    boundsTraverseOrder: function boundsTraverseOrder(box) {\n      temp.copy(point).clamp(box.min, box.max);\n      return temp.distanceToSquared(point);\n    },\n    intersectsBounds: function intersectsBounds(box, isLeaf, score) {\n      return score < closestDistanceSq && score < maxThresholdSq;\n    },\n    intersectsTriangle: function intersectsTriangle(tri, triIndex) {\n      tri.closestPointToPoint(point, temp);\n      var distSq = point.distanceToSquared(temp);\n      if (distSq < closestDistanceSq) {\n        temp1.copy(temp);\n        closestDistanceSq = distSq;\n        closestDistanceTriIndex = triIndex;\n      }\n      if (distSq < minThresholdSq) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n  });\n  if (closestDistanceSq === Infinity) return null;\n  var closestDistance = Math.sqrt(closestDistanceSq);\n  if (!target.point) target.point = temp1.clone();else target.point.copy(temp1);\n  target.distance = closestDistance, target.faceIndex = closestDistanceTriIndex;\n  return target;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}